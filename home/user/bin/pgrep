#!/bin/bash

pattern=${1}

if [ -n "${pattern}" ]; then
  if hash parallel 2>/dev/null; then
    find . -type f -regex '.*\.txt' | parallel --block 10M -j 4 grep -F ${pattern}
  else
    echo "GNU parallel not found."
  fi
else
  echo "No pattern found."
fi
